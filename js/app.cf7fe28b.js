(function(){"use strict";var t={5562:function(t,e,a){var l=a(9242),n=a(3396);const o={class:""},r={class:"main"},s={class:"clients"},i={class:"container"},c={class:"clients__overflow"},d=(0,n._)("h1",{class:"clients__title section__title"}," Клиенты ",-1),_={class:"clients__content","data-simplebar":""},h={class:"clients__table-loading flex"},u={key:0,class:"clients__table-loading-weel",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m=(0,n._)("path",{d:"M2 20C2 29.941 10.059 38 20 38C29.941 38 38 29.941 38 20C38 10.059 29.941 2 20 2C17.6755 2 15.454 2.4405 13.414 3.243",stroke:"#9873FF","stroke-width":"4","stroke-miterlimit":"10","stroke-linecap":"round"},null,-1),p=[m],g={key:1,class:"error-message flex"},C=(0,n._)("h5",null," Ой, что-то пошло не так :( ",-1),w=[C],f=(0,n._)("div",{class:"form__shape"},[(0,n._)("button",{class:"form__btn btn-reset btn"},[(0,n._)("svg",{class:"form__btn-svg",width:"23",height:"16",viewBox:"0 0 23 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M14.5 8C16.71 8 18.5 6.21 18.5 4C18.5 1.79 16.71 0 14.5 0C12.29 0 10.5 1.79 10.5 4C10.5 6.21 12.29 8 14.5 8ZM5.5 6V3H3.5V6H0.5V8H3.5V11H5.5V8H8.5V6H5.5ZM14.5 10C11.83 10 6.5 11.34 6.5 14V16H22.5V14C22.5 11.34 17.17 10 14.5 10Z"})]),(0,n.Uk)(" Добавить клиента ")])],-1),v=[f];function b(t,e,a,m,C,f){const b=(0,n.up)("cliensHeader"),k=(0,n.up)("clientsTable"),y=(0,n.up)("clientsAddWindow");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(b),(0,n._)("main",r,[(0,n._)("section",s,[(0,n._)("div",i,[(0,n._)("div",c,[d,(0,n._)("div",_,[(0,n.Wm)(k,{"loading-data":t.loadingProcess,"loading-data-error":t.loadingError},null,8,["loading-data","loading-data-error"]),(0,n._)("div",h,[t.loadingProcess?((0,n.wg)(),(0,n.iD)("svg",u,p)):(0,n.kq)("",!0),t.loadingError?((0,n.wg)(),(0,n.iD)("div",g,w)):(0,n.kq)("",!0)])])]),(0,n._)("form",{action:"",class:"clients__form form flex",onSubmit:e[0]||(e[0]=(0,l.iM)((t=>f.openCreateWindow()),["prevent"]))},v,32)])]),((0,n.wg)(),(0,n.j4)(n.lR,{to:"#show-window"},[(0,n.Wm)(y,{open:C.addButtonActive,"onUpdate:open":e[1]||(e[1]=t=>C.addButtonActive=t)},null,8,["open"])]))])])}var k=a(65),y=a(7139);const x={key:0,class:"creating window"},L={ref:"content",class:"creating__block window__block flex"},D={class:"creating__top window__top flex"},B=(0,n._)("div",{class:"creating__top-text window__top-text flex"},[(0,n._)("h2",{class:"creating__title window__title text-black-main"}," Новый клиент ")],-1),A=(0,n._)("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.2332 7.73333L21.2665\r\n                                 6.76666L14.4998 13.5334L7.73318 6.7667L6.76652 7.73336L13.5332 14.5L6.76654 21.2667L7.73321 22.2333L14.4998 \r\n                                    15.4667L21.2665 22.2334L22.2332 21.2667L15.4665 14.5L22.2332 7.73333Z"})],-1),S=[A],I={class:"form__names"},M={for:"surname",class:"form__label form__label-surname"},F={key:0,class:"label-text text-gray-main"},N={key:1,class:"label-text-empty"},P={for:"name",class:"form__label form__label-name"},Z={key:0,class:"label-text text-gray-main"},V={key:1,class:"label-text-empty"},E={for:"lastName",class:"form__label form__label-lastName"},O={key:0,class:"label-text text-gray-main"},H={key:1,class:"label-text-empty"},U={class:"form__contact-block added-paddings flex","data-simplebar":""},T=["id"],z=["onUpdate:modelValue"],R=["value","name"],q=["type","onUpdate:modelValue"],j=["onClick"],W=(0,n.uE)('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_224_6681)"><path d="M8 2C4.682 2 2 4.682 2 8C2 11.318 4.682 14 8 14C11.318 14 14 11.318 14 8C14 4.682 11.318 2 8 2ZM8 12.8C5.354 12.8 3.2 10.646 3.2 8C3.2 5.354 5.354 3.2 8 3.2C10.646 3.2 12.8 5.354 12.8 8C12.8 10.646 10.646 12.8 8 12.8ZM10.154 5L8 7.154L5.846 5L5 5.846L7.154 8L5 10.154L5.846 11L8 8.846L10.154 11L11 10.154L8.846 8L11 5.846L10.154 5Z" fill="#B0B0B0"></path></g><defs><clipPath id="clip0_224_6681"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg>',1),Y=[W],K=(0,n.uE)('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_224_4420)"><path d="M7.99998 4.66665C7.63331 4.66665 7.33331 4.96665 7.33331 5.33331V7.33331H5.33331C4.96665 7.33331 4.66665 7.63331 4.66665 7.99998C4.66665 8.36665 4.96665 8.66665 5.33331 8.66665H7.33331V10.6666C7.33331 11.0333 7.63331 11.3333 7.99998 11.3333C8.36665 11.3333 8.66665 11.0333 8.66665 10.6666V8.66665H10.6666C11.0333 8.66665 11.3333 8.36665 11.3333 7.99998C11.3333 7.63331 11.0333 7.33331 10.6666 7.33331H8.66665V5.33331C8.66665 4.96665 8.36665 4.66665 7.99998 4.66665ZM7.99998 1.33331C4.31998 1.33331 1.33331 4.31998 1.33331 7.99998C1.33331 11.68 4.31998 14.6666 7.99998 14.6666C11.68 14.6666 14.6666 11.68 14.6666 7.99998C14.6666 4.31998 11.68 1.33331 7.99998 1.33331ZM7.99998 13.3333C5.05998 13.3333 2.66665 10.94 2.66665 7.99998C2.66665 5.05998 5.05998 2.66665 7.99998 2.66665C10.94 2.66665 13.3333 5.05998 13.3333 7.99998C13.3333 10.94 10.94 13.3333 7.99998 13.3333Z"></path></g><defs><clipPath id="clip0_224_4420"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg>',1),$={class:"form_bottom flex"},G={key:0,class:"form__error-message flex"},J={class:"form__errors-list list-style"},Q={class:"form__save-btn btn btn-reset flex"},X={key:0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt=(0,n._)("g",{"clip-path":"url(#clip0_224_6260)"},[(0,n._)("path",{d:"M3.00008 8.03996C3.00008 10.8234 5.2566 13.08 8.04008 13.08C10.8236 13.08 13.0801 10.8234 13.0801 8.03996C13.0801 5.25648 10.8236 2.99996 8.04008 2.99996C7.38922 2.99996 6.7672 3.1233 6.196 3.348",stroke:"#B89EFF","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round"})],-1),et=(0,n._)("defs",null,[(0,n._)("clipPath",{id:"clip0_224_6260"},[(0,n._)("rect",{width:"16",height:"16",fill:"white"})])],-1),at=[tt,et];function lt(t,e,a,o,r,s){return a.open?((0,n.wg)(),(0,n.iD)("section",x,[(0,n._)("div",{class:"creating__blackout window__blackout flex",onClick:e[7]||(e[7]=(...t)=>s.onOutsideClick&&s.onOutsideClick(...t))},[(0,n._)("div",L,[(0,n._)("div",D,[B,(0,n._)("button",{onClick:e[0]||(e[0]=(...t)=>s.doClose&&s.doClose(...t)),class:"creating__close-btn window__close-btn btn-reset"},S)]),(0,n._)("form",{action:"",onSubmit:e[6]||(e[6]=(0,l.iM)((t=>s.doAddClient()),["prevent"])),class:"creating__form window__form form flex"},[(0,n._)("div",I,[(0,n._)("label",M,[r.surname?((0,n.wg)(),(0,n.iD)("p",F," Фамилия* ")):((0,n.wg)(),(0,n.iD)("p",N)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.surname=t),type:"text",class:"text-black-main form__input form__input-surname",placeholder:"Фамилия*"},null,512),[[l.nr,r.surname]])]),(0,n._)("label",P,[r.name?((0,n.wg)(),(0,n.iD)("p",Z," Имя* ")):((0,n.wg)(),(0,n.iD)("p",V)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.name=t),type:"text",class:"text-black-main form__input form__input-name",placeholder:"Имя*"},null,512),[[l.nr,r.name]])]),(0,n._)("label",E,[r.lastName?((0,n.wg)(),(0,n.iD)("p",O," Отчество ")):((0,n.wg)(),(0,n.iD)("p",H)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.lastName=t),type:"text",class:"text-black-main form__input form__input-lastName",placeholder:"Отчество"},null,512),[[l.nr,r.lastName]])])]),(0,n._)("div",U,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.contactsArr,(t=>((0,n.wg)(),(0,n.iD)("label",{key:t.id,id:"label-"+t.id,for:"contact",class:"form__contact-label flex input-group"},[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>t.type=e,name:"select-contact",class:"form__select-contact"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.contactTypes,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.value,name:"select-contact-"+t.id,key:t.id},(0,y.zw)(t.value),9,R)))),128))],8,z),[[l.bM,t.type]]),(0,n.wy)((0,n._)("input",{type:t.inputType,"onUpdate:modelValue":e=>t.value=e,name:"contact",class:"form__input-contact",placeholder:"Введите данные контакта",required:""},null,8,q),[[l.YZ,t.value]]),(0,n._)("button",{onClick:(0,l.iM)((e=>s.contactFormRemove(t.id-1)),["prevent"]),class:"form__contact-remove-btn btn-reset"},Y,8,j)],8,T)))),128)),r.contactsArr.length<10?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:e[4]||(e[4]=(0,l.iM)(((...t)=>s.contactFormAdd&&s.contactFormAdd(...t)),["prevent"])),class:"form__add-contact btn-reset text-black-main"},[K,(0,n.Uk)(" Добавить контакт ")])):(0,n.kq)("",!0)]),(0,n._)("div",$,[t.error?((0,n.wg)(),(0,n.iD)("p",G,[(0,n._)("ul",J,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.errors,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"form__errors-item",key:t},(0,y.zw)(t.message),1)))),128))])])):(0,n.kq)("",!0),(0,n._)("button",Q,[t.loading?((0,n.wg)(),(0,n.iD)("svg",X,at)):(0,n.kq)("",!0),(0,n.Uk)(" Сохранить")]),(0,n._)("button",{onClick:e[5]||(e[5]=(0,l.iM)(((...t)=>s.doClose&&s.doClose(...t)),["prevent"])),class:"form__delete-client-btn btn-reset"},"Отмена")])],32)],512)])])):(0,n.kq)("",!0)}a(7658);var nt=[{id:0,value:"Телефон",inputType:"tel"},{id:1,value:"Доп. телефон",inputType:"tel"},{id:2,value:"Email",inputType:"email"},{id:3,value:"Vk",inputType:"text"},{id:4,value:"facebook",inputType:"text"}],ot={data(){return{name:"",surname:"",lastName:"",contactTypes:nt,contactsArr:[],contactsId:0}},props:{open:{type:Boolean}},computed:{...(0,k.Se)({loading:"loadingProcess",error:"loadingError",errors:"errors"})},methods:{...(0,k.nv)(["addClients"]),...(0,k.OI)(["updateProcessError"]),async doAddClient(){await this.addClients({name:this.name,surname:this.surname,lastName:this.lastName,contacts:this.contactsArr}),console.log(this.contactsArr),this.error||(console.log("Ошибки нет, нужно закрыть"),this.doClose())},CreateId(t){let e=0;for(const a of t)a.id>=e&&(e=a.id);return e+1},doClose(){this.updateProcessError(!1),this.$emit("update:open",!1),this.contactsArr=[],this.name="",this.surname="",this.lastName=""},onOutsideClick(t){t.target!==this.$refs.content&&t.target.contains(this.$refs.content)&&this.doClose()},contactFormAdd(){this.contactsId=this.CreateId(this.contactsArr),this.contactsArr.push({id:this.CreateId(this.contactsArr),type:"Телефон",value:""})},contactFormRemove(t){this.contactsArr.splice(t,1),this.contactsArr.forEach((e=>{e.id>=t?e.id-=1:e.id}))}},created(){}},rt=a(89);const st=(0,rt.Z)(ot,[["render",lt]]);var it=st;const ct={class:"clients__table table"};function dt(t,e,a,l,o,r){const s=(0,n.up)("clientsTableHeader"),i=(0,n.up)("clientsTableItem");return(0,n.wg)(),(0,n.iD)("table",ct,[(0,n.Wm)(s),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.sortedData,(t=>((0,n.wg)(),(0,n.j4)(i,{client:t,key:t.id},null,8,["client"])))),128))])}const _t={class:"table__header-row"},ht={class:"table__header"},ut={class:"table__header-block flex"},mt=(0,n._)("span",{class:"table__filter table__header-id"},"ID",-1),pt={key:0,class:"table__header-arrow table__header-arrow-up table__header-arrow-id",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},gt=(0,n._)("path",{d:"M3.49691e-07 4L0.705 4.705L3.5 1.915L3.5 8L4.5 8L4.5 1.915L7.29 4.71L8 4L4 -3.49691e-07L3.49691e-07 4Z"},null,-1),Ct=[gt],wt={key:1,class:"table__header-arrow table__header-arrow",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ft=(0,n._)("path",{d:"M8 4L7.295 3.295L4.5 6.085L4.5 0L3.5 0L3.5 6.085L0.71 3.29L0 4L4 8L8 4Z"},null,-1),vt=[ft],bt={class:"table__header"},kt={class:"table__header-block flex"},yt=(0,n._)("span",{class:"table__header-text flex text-gray-main"},"Фамилия Имя Отчество",-1),xt={key:0,class:"table__header-arrow table__header-arrow-up table__header-arrow-id",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lt=(0,n._)("path",{d:"M3.49691e-07 4L0.705 4.705L3.5 1.915L3.5 8L4.5 8L4.5 1.915L7.29 4.71L8 4L4 -3.49691e-07L3.49691e-07 4Z"},null,-1),Dt=[Lt],Bt={key:1,class:"table__header-arrow table__header-arrow",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},At=(0,n._)("path",{d:"M8 4L7.295 3.295L4.5 6.085L4.5 0L3.5 0L3.5 6.085L0.71 3.29L0 4L4 8L8 4Z"},null,-1),St=[At],It={key:2,class:"table__filter"},Mt={key:3,class:"table__filter"},Ft={class:"table__header text-gray-main"},Nt={class:"table__header-block flex"},Pt={class:"table__header-text flex"},Zt={key:0,class:"table__header-arrow table__header-arrow-up table__header-arrow-id",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vt=(0,n._)("path",{d:"M3.49691e-07 4L0.705 4.705L3.5 1.915L3.5 8L4.5 8L4.5 1.915L7.29 4.71L8 4L4 -3.49691e-07L3.49691e-07 4Z"},null,-1),Et=[Vt],Ot={key:1,class:"table__header-arrow table__header-arrow",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ht=(0,n._)("path",{d:"M8 4L7.295 3.295L4.5 6.085L4.5 0L3.5 0L3.5 6.085L0.71 3.29L0 4L4 8L8 4Z"},null,-1),Ut=[Ht],Tt={class:"table__header text-gray-main"},zt={class:"table__header-block flex"},Rt={class:"table__header-text"},qt={key:0,class:"table__header-arrow table__header-arrow-up table__header-arrow-id",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt=(0,n._)("path",{d:"M3.49691e-07 4L0.705 4.705L3.5 1.915L3.5 8L4.5 8L4.5 1.915L7.29 4.71L8 4L4 -3.49691e-07L3.49691e-07 4Z"},null,-1),Wt=[jt],Yt={key:1,class:"table__header-arrow table__header-arrow",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kt=(0,n._)("path",{d:"M8 4L7.295 3.295L4.5 6.085L4.5 0L3.5 0L3.5 6.085L0.71 3.29L0 4L4 8L8 4Z"},null,-1),$t=[Kt],Gt=(0,n._)("th",{class:"table__header text-gray-main"},[(0,n._)("div",{class:"table__header-block flex"},[(0,n._)("span",{class:"table__header-text flex"},"Контакты")])],-1),Jt=(0,n._)("th",{class:"table__header text-gray-main"},[(0,n._)("div",{class:"table__header-block flex"},[(0,n._)("span",{class:"table__header-text flex"},"Действия")])],-1);function Qt(t,e,a,l,o,r){return(0,n.wg)(),(0,n.iD)("tr",_t,[(0,n._)("th",ht,[(0,n._)("div",ut,[(0,n._)("button",{onClick:e[0]||(e[0]=t=>r.onClick(1)),class:"table__filter-btn table__filter-btn-id btn-reset flex"},[mt,t.getOrderId?((0,n.wg)(),(0,n.iD)("svg",pt,Ct)):((0,n.wg)(),(0,n.iD)("svg",wt,vt))])])]),(0,n._)("th",bt,[(0,n._)("div",kt,[yt,(0,n._)("button",{onClick:e[1]||(e[1]=t=>r.onClick(2)),class:"table__filter-btn table__filter-btn-alphabet btn-reset flex"},[t.getOrderFullName?((0,n.wg)(),(0,n.iD)("svg",xt,Dt)):((0,n.wg)(),(0,n.iD)("svg",Bt,St)),t.getOrderFullName?((0,n.wg)(),(0,n.iD)("span",Mt,"А-Я")):((0,n.wg)(),(0,n.iD)("span",It,"Я-А"))])])]),(0,n._)("th",Ft,[(0,n._)("div",Nt,[(0,n._)("span",Pt,[(0,n.Uk)("Дата и время создания "),(0,n._)("button",{onClick:e[2]||(e[2]=t=>r.onClick(3)),class:"table__filter-btn table__filter-btn-date btn-reset flex"},[t.getOrderAddDate?((0,n.wg)(),(0,n.iD)("svg",Zt,Et)):((0,n.wg)(),(0,n.iD)("svg",Ot,Ut))])])])]),(0,n._)("th",Tt,[(0,n._)("div",zt,[(0,n._)("span",Rt,[(0,n.Uk)("Последнее изменение "),(0,n._)("button",{onClick:e[3]||(e[3]=t=>r.onClick(4)),class:"table__filter-btn table__filter-btn-last-change btn-reset flex"},[t.getOrderChaneDate?((0,n.wg)(),(0,n.iD)("svg",qt,Wt)):((0,n.wg)(),(0,n.iD)("svg",Yt,$t))])])])]),Gt,Jt])}var Xt={computed:{...(0,k.Se)(["getSortedById","getSortedByFullName","getSortedByAddDate","getSortedByChaneDate","getOrderId","getOrderFullName","getOrderAddDate","getOrderChaneDate"])},methods:{...(0,k.OI)(["updateSortedById","updateSortedByFullName","updateSortedByAddDate","updateSortedByChaneDate"]),onClick(t){1==t?this.updateSortedById():2==t?this.updateSortedByFullName():3==t?this.updateSortedByAddDate():4==t&&this.updateSortedByChaneDate()}}};const te=(0,rt.Z)(Xt,[["render",Qt]]);var ee=te;const ae={class:"table__row"},le={class:"table__content"},ne={class:"table__content-block flex text-gray-main"},oe={class:"table__content"},re={class:"table__content-block flex text-black-main"},se={class:"table__content"},ie={class:"table__content-block flex text-black-main"},ce={class:"table-time text-gray-main"},de={class:"table__content"},_e={class:"table__content-block flex text-black-main"},he={class:"table-time text-gray-main"},ue={class:"table__content"},me={class:"table__content-block flex"},pe={class:"table__content"},ge={class:"table__actions table__content-block flex"},Ce={class:"table__actions-list list-style flex"},we={class:"table__action-item"},fe={key:0,class:"svg-loading",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve=(0,n._)("g",{"clip-path":"url(#clip0_224_2771)"},[(0,n._)("path",{d:"M3.00008 8.04008C3.00008 10.8236 5.2566 13.0801 8.04008 13.0801C10.8236 13.0801 13.0801 10.8236 13.0801 8.04008C13.0801 5.2566 10.8236 3.00008 8.04008 3.00008C7.38922 3.00008 6.7672 3.12342 6.196 3.34812",stroke:"#9873FF","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round"})],-1),be=(0,n._)("defs",null,[(0,n._)("clipPath",{id:"clip0_224_2771"},[(0,n._)("rect",{width:"16",height:"16",fill:"white"})])],-1),ke=[ve,be],ye={key:1,class:"svg-pencil",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xe=(0,n._)("path",{d:"M0 10.5002V13.0002H2.5L9.87333 5.62687L7.37333 3.12687L0 10.5002ZM11.8067 3.69354C12.0667 3.43354 12.0667 3.01354 11.8067 2.75354L10.2467 1.19354C9.98667 0.933535 9.56667 0.933535 9.30667 1.19354L8.08667 2.41354L10.5867 4.91354L11.8067 3.69354Z"},null,-1),Le=[xe],De={class:"table__action-item"},Be=(0,n._)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M6 0C2.682 0 0 2.682 0 6C0 9.318 2.682 12 6 12C9.318 12 12 9.318 12 6C12 2.682 9.318 0 6 0ZM6 10.8C3.354 10.8 1.2 8.646 1.2 6C1.2 3.354 3.354 1.2 6 1.2C8.646 1.2 10.8 3.354 10.8 6C10.8 8.646 8.646 10.8 6 10.8ZM8.154 3L6 5.154L3.846 3L3 3.846L5.154 6L3 8.154L3.846 9L6 6.846L8.154 9L9 8.154L6.846 6L9 3.846L8.154 3Z",fill:"#F06A4D"})],-1);function Ae(t,e,a,o,r,s){const i=(0,n.up)("clientsContactsList"),c=(0,n.up)("clientsChangeWindow"),d=(0,n.up)("clientsRemoveWindow");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("tr",ae,[(0,n._)("td",le,[(0,n._)("div",ne,(0,y.zw)(a.client.id),1)]),(0,n._)("td",oe,[(0,n._)("div",re,(0,y.zw)(s.fullName),1)]),(0,n._)("td",se,[(0,n._)("div",ie,[(0,n.Uk)((0,y.zw)(s.crateDate)+" ",1),(0,n._)("span",ce,(0,y.zw)(s.crateTime),1)])]),(0,n._)("td",de,[(0,n._)("div",_e,[(0,n.Uk)((0,y.zw)(s.updatedDate)+" ",1),(0,n._)("span",he,(0,y.zw)(s.updatedTime),1)])]),(0,n._)("td",ue,[(0,n._)("div",me,[(0,n.Wm)(i,{"clients-contacts":a.client.contacts},null,8,["clients-contacts"])])]),(0,n._)("td",pe,[(0,n._)("div",ge,[(0,n._)("ul",Ce,[(0,n._)("li",we,[(0,n._)("button",{onClick:e[0]||(e[0]=(0,l.iM)((t=>s.doLoadCurrentClient(a.client.id)),["prevent"])),class:"table__change table__action-btn btn-reset text-black-main flex"},[t.loadingProcess&&a.client.id==t.getCurrentId?((0,n.wg)(),(0,n.iD)("svg",fe,ke)):((0,n.wg)(),(0,n.iD)("svg",ye,Le)),(0,n.Uk)(" Изменить ")])]),(0,n._)("li",De,[(0,n._)("button",{onClick:e[1]||(e[1]=(0,l.iM)(((...t)=>s.clickRemoveBtn&&s.clickRemoveBtn(...t)),["prevent"])),class:"table__delete table__action-btn btn-reset text-black-main flex"},[Be,(0,n.Uk)(" Удалить ")])])])])])]),r.changeBtnIsClicked?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#show-window"},[(0,n.Wm)(c,{"current-client":t.currentClient,"onUpdate:current-client":e[2]||(e[2]=e=>t.currentClient=e),open:r.changeBtnIsClicked,"onUpdate:open":e[3]||(e[3]=t=>r.changeBtnIsClicked=t),"open-remove":r.removeBtnIsClicked,"onUpdate:open-remove":e[4]||(e[4]=t=>r.removeBtnIsClicked=t),id:a.client.id},null,8,["current-client","open","open-remove","id"])])):(0,n.kq)("",!0),r.removeBtnIsClicked?((0,n.wg)(),(0,n.j4)(n.lR,{key:1,to:"#show-window"},[(0,n.Wm)(d,{open:r.removeBtnIsClicked,"onUpdate:open":e[5]||(e[5]=t=>r.removeBtnIsClicked=t),id:a.client.id},null,8,["open","id"])])):(0,n.kq)("",!0)],64)}const Se={class:"table__list list-style flex"},Ie={key:0,class:"table__item item"},Me={class:"item__social-circle flex"},Fe={class:"item__social-circle-number"};function Ne(t,e,a,l,o,r){const s=(0,n.up)("ClientsContactsItem");return(0,n.wg)(),(0,n.iD)("ul",Se,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.contacts,(t=>((0,n.wg)(),(0,n.j4)(s,{contact:t,key:t.value},null,8,["contact"])))),128)),r.clientsContactsComouted.length>=5?((0,n.wg)(),(0,n.iD)("li",Ie,[o.allContacts?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"item__social-btn btn-reset",onClick:e[0]||(e[0]=(...t)=>r.showAllContacts&&r.showAllContacts(...t))},[(0,n._)("div",Me,[(0,n._)("p",Fe,"+"+(0,y.zw)(r.clientsContactsComouted.length-4),1)])]))])):(0,n.kq)("",!0)])}const Pe={key:0,class:"table__item item tooltip-body"},Ze=(0,n._)("a",{href:"{{contact.value}}",class:"item__social-link"},[(0,n._)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M8 0C3.58187 0 0 3.58171 0 8C0 12.4183 3.58187 16 8 16C12.4181 16 16 12.4183 16 8C16 3.58171 12.4181 0 8 0ZM12.058 8.86523C12.4309 9.22942 12.8254 9.57217 13.1601 9.97402C13.3084 10.1518 13.4482 10.3356 13.5546 10.5423C13.7065 10.8371 13.5693 11.1604 13.3055 11.1779L11.6665 11.1776C11.2432 11.2126 10.9064 11.0419 10.6224 10.7525C10.3957 10.5219 10.1853 10.2755 9.96698 10.037C9.87777 9.93915 9.78382 9.847 9.67186 9.77449C9.44843 9.62914 9.2543 9.67366 9.1263 9.90707C8.99585 10.1446 8.96606 10.4078 8.95362 10.6721C8.93577 11.0586 8.81923 11.1596 8.43147 11.1777C7.60291 11.2165 6.81674 11.0908 6.08606 10.6731C5.44147 10.3047 4.94257 9.78463 4.50783 9.19587C3.66126 8.04812 3.01291 6.78842 2.43036 5.49254C2.29925 5.2007 2.39517 5.04454 2.71714 5.03849C3.25205 5.02817 3.78697 5.02948 4.32188 5.03799C4.53958 5.04143 4.68362 5.166 4.76726 5.37142C5.05633 6.08262 5.4107 6.75928 5.85477 7.38684C5.97311 7.55396 6.09391 7.72059 6.26594 7.83861C6.45582 7.9689 6.60051 7.92585 6.69005 7.71388C6.74734 7.57917 6.77205 7.43513 6.78449 7.29076C6.82705 6.79628 6.83212 6.30195 6.75847 5.80943C6.71263 5.50122 6.53929 5.30218 6.23206 5.24391C6.07558 5.21428 6.0985 5.15634 6.17461 5.06697C6.3067 4.91245 6.43045 4.81686 6.67777 4.81686L8.52951 4.81653C8.82136 4.87382 8.88683 5.00477 8.92645 5.29874L8.92808 7.35656C8.92464 7.47032 8.98521 7.80751 9.18948 7.88198C9.35317 7.936 9.4612 7.80473 9.55908 7.70112C10.0032 7.22987 10.3195 6.67368 10.6029 6.09801C10.7279 5.84413 10.8358 5.58142 10.9406 5.31822C11.0185 5.1236 11.1396 5.02785 11.3593 5.03112L13.1424 5.03325C13.195 5.03325 13.2483 5.03374 13.3004 5.04274C13.6009 5.09414 13.6832 5.22345 13.5903 5.5166C13.4439 5.97721 13.1596 6.36088 12.8817 6.74553C12.5838 7.15736 12.2661 7.55478 11.9711 7.96841C11.7001 8.34652 11.7215 8.53688 12.058 8.86523Z"})])],-1),Ve={class:"tooltip-popup"},Ee={href:"{{contact.value}}",class:"tooltip-popup-link"},Oe={key:1,class:"table__item item tooltip-body"},He=(0,n._)("a",{href:"{{contact.value}}",class:"item__social-link"},[(0,n._)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M7.99999 0C3.6 0 0 3.60643 0 8.04819C0 12.0643 2.928 15.3976 6.75199 16V10.3775H4.71999V8.04819H6.75199V6.27309C6.75199 4.25703 7.94399 3.14859 9.77599 3.14859C10.648 3.14859 11.56 3.30121 11.56 3.30121V5.28514H10.552C9.55999 5.28514 9.24799 5.90362 9.24799 6.53815V8.04819H11.472L11.112 10.3775H9.24799V16C11.1331 15.7011 12.8497 14.7354 14.0879 13.2772C15.3261 11.819 16.0043 9.96437 16 8.04819C16 3.60643 12.4 0 7.99999 0Z"})])],-1),Ue={class:"tooltip-popup"},Te={href:"{{contact.value}}",class:"tooltip-popup-link"},ze={key:2,class:"table__item item tooltip-body"},Re=(0,n.uE)('<a href="{{contact.value}}" class="item__social-link"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g opacity="0.7"><circle cx="8" cy="8" r="8"></circle><path d="M11.56 9.50222C11.0133 9.50222 10.4844 9.41333 9.99111 9.25333C9.83556 9.2 9.66222 9.24 9.54222 9.36L8.84444 10.2356C7.58667 9.63556 6.40889 8.50222 5.78222 7.2L6.64889 6.46222C6.76889 6.33778 6.80444 6.16444 6.75556 6.00889C6.59111 5.51556 6.50667 4.98667 6.50667 4.44C6.50667 4.2 6.30667 4 6.06667 4H4.52889C4.28889 4 4 4.10667 4 4.44C4 8.56889 7.43556 12 11.56 12C11.8756 12 12 11.72 12 11.4756V9.94222C12 9.70222 11.8 9.50222 11.56 9.50222Z" fill="white"></path></g></svg></a>',1),qe={class:"tooltip-popup"},je={href:"tel:{{contact.value}}",class:"tooltip-popup-link"},We={key:3,class:"table__item item tooltip-body"},Ye=(0,n._)("a",{href:"{{contact.value}}",class:"item__social-link"},[(0,n._)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{opacity:"0.7","fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM4 5.75C4 5.3375 4.36 5 4.8 5H11.2C11.64 5 12 5.3375 12 5.75V10.25C12 10.6625 11.64 11 11.2 11H4.8C4.36 11 4 10.6625 4 10.25V5.75ZM8.424 8.1275L11.04 6.59375C11.14 6.53375 11.2 6.4325 11.2 6.32375C11.2 6.0725 10.908 5.9225 10.68 6.05375L8 7.625L5.32 6.05375C5.092 5.9225 4.8 6.0725 4.8 6.32375C4.8 6.4325 4.86 6.53375 4.96 6.59375L7.576 8.1275C7.836 8.28125 8.164 8.28125 8.424 8.1275Z"})])],-1),Ke={class:"tooltip-popup"},$e={href:"mailto:{{contact.value}}",class:"tooltip-popup-link"},Ge={key:4,class:"table__item item tooltip-body"},Je=(0,n._)("a",{href:"{{contact.value}}",class:"item__social-link"},[(0,n._)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("g",{opacity:"0.7"},[(0,n._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM3 8C3 5.24 5.24 3 8 3C10.76 3 13 5.24 13 8C13 10.76 10.76 13 8 13C5.24 13 3 10.76 3 8ZM9.5 6C9.5 5.17 8.83 4.5 8 4.5C7.17 4.5 6.5 5.17 6.5 6C6.5 6.83 7.17 7.5 8 7.5C8.83 7.5 9.5 6.83 9.5 6ZM5 9.99C5.645 10.96 6.75 11.6 8 11.6C9.25 11.6 10.355 10.96 11 9.99C10.985 8.995 8.995 8.45 8 8.45C7 8.45 5.015 8.995 5 9.99Z"})])])],-1),Qe={class:"tooltip-popup"},Xe={href:"mailto:{{contact.value}}",class:"tooltip-popup-link"};function ta(t,e,a,l,o,r){return"Vk"==a.contact.type?((0,n.wg)(),(0,n.iD)("li",Pe,[Ze,(0,n._)("div",Ve,[(0,n.Uk)(" VK: "),(0,n._)("a",Ee,(0,y.zw)(a.contact.value),1)])])):"facebook"==a.contact.type?((0,n.wg)(),(0,n.iD)("li",Oe,[He,(0,n._)("div",Ue,[(0,n.Uk)(" Facebook: "),(0,n._)("a",Te,(0,y.zw)(a.contact.value),1)])])):"Телефон"==a.contact.type?((0,n.wg)(),(0,n.iD)("li",ze,[Re,(0,n._)("div",qe,[(0,n._)("a",je,(0,y.zw)(a.contact.value),1)])])):"Email"==a.contact.type?((0,n.wg)(),(0,n.iD)("li",We,[Ye,(0,n._)("div",Ke,[(0,n.Uk)(" почта: "),(0,n._)("a",$e,(0,y.zw)(a.contact.value),1)])])):((0,n.wg)(),(0,n.iD)("li",Ge,[Je,(0,n._)("div",Qe,[(0,n.Uk)((0,y.zw)(a.contact.type)+": ",1),(0,n._)("a",Xe,(0,y.zw)(a.contact.value),1)])]))}var ea={props:["contact"],computed:{}};const aa=(0,rt.Z)(ea,[["render",ta]]);var la=aa,na={data(){return{contacts:this.clientsContacts?this.clientsContacts.slice(0,4):[],allContacts:!1}},components:{ClientsContactsItem:la},props:["clientsContacts"],methods:{showAllContacts(){this.allContacts?(this.allContacts=!1,this.contacts=this.clientsContactsComouted.slice(0,4)):(this.contacts=this.clientsContactsComouted,this.allContacts=!0)}},computed:{clientsContactsComouted(){return this.clientsContacts?this.clientsContacts:[]},clientsContactsSliced(){return this.clientsContacts?this.clientsContacts.slice(0,4):[]}},watch:{clientsContacts(){this.contacts=this.clientsContactsSliced}}};const oa=(0,rt.Z)(na,[["render",Ne]]);var ra=oa;const sa={class:"changing window"},ia={ref:"content",class:"changing__block window__block flex"},ca={class:"changing__top window__top flex"},da={class:"changing__top-text window__top-text flex"},_a=(0,n._)("h2",{class:"changing__title window__title text-black-main"}," Изменить данные ",-1),ha={class:"changing__id window__id text-gray-main"},ua=(0,n._)("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.2332 7.73333L21.2665\r\n                               6.76666L14.4998 13.5334L7.73318 6.7667L6.76652 7.73336L13.5332 14.5L6.76654 21.2667L7.73321 22.2333L14.4998 \r\n                                  15.4667L21.2665 22.2334L22.2332 21.2667L15.4665 14.5L22.2332 7.73333Z"})],-1),ma=[ua],pa={class:"form__names"},ga={for:"surname",class:"form__label form__label-surname"},Ca={key:0,class:"label-text text-gray-main"},wa={key:1,class:"label-text-empty"},fa={for:"name",class:"form__label form__label-name"},va={key:0,class:"label-text text-gray-main"},ba={key:1,class:"label-text-empty"},ka={for:"lastName",class:"form__label form__label-lastName"},ya={key:0,class:"label-text text-gray-main"},xa={key:1,class:"label-text-empty"},La={class:"form__contact-block added-paddings flex","data-simplebar":""},Da=["id"],Ba=["onUpdate:modelValue"],Aa=["value","name"],Sa=["onUpdate:modelValue"],Ia=["onClick"],Ma=(0,n.uE)('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_224_6681)"><path d="M8 2C4.682 2 2 4.682 2 8C2 11.318 4.682 14 8 14C11.318 14 14 11.318 14 8C14 4.682 11.318 2 8 2ZM8 12.8C5.354 12.8 3.2 10.646 3.2 8C3.2 5.354 5.354 3.2 8 3.2C10.646 3.2 12.8 5.354 12.8 8C12.8 10.646 10.646 12.8 8 12.8ZM10.154 5L8 7.154L5.846 5L5 5.846L7.154 8L5 10.154L5.846 11L8 8.846L10.154 11L11 10.154L8.846 8L11 5.846L10.154 5Z" fill="#B0B0B0"></path></g><defs><clipPath id="clip0_224_6681"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg>',1),Fa=[Ma],Na=(0,n.uE)('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_224_4420)"><path d="M7.99998 4.66665C7.63331 4.66665 7.33331 4.96665 7.33331 5.33331V7.33331H5.33331C4.96665 7.33331 4.66665 7.63331 4.66665 7.99998C4.66665 8.36665 4.96665 8.66665 5.33331 8.66665H7.33331V10.6666C7.33331 11.0333 7.63331 11.3333 7.99998 11.3333C8.36665 11.3333 8.66665 11.0333 8.66665 10.6666V8.66665H10.6666C11.0333 8.66665 11.3333 8.36665 11.3333 7.99998C11.3333 7.63331 11.0333 7.33331 10.6666 7.33331H8.66665V5.33331C8.66665 4.96665 8.36665 4.66665 7.99998 4.66665ZM7.99998 1.33331C4.31998 1.33331 1.33331 4.31998 1.33331 7.99998C1.33331 11.68 4.31998 14.6666 7.99998 14.6666C11.68 14.6666 14.6666 11.68 14.6666 7.99998C14.6666 4.31998 11.68 1.33331 7.99998 1.33331ZM7.99998 13.3333C5.05998 13.3333 2.66665 10.94 2.66665 7.99998C2.66665 5.05998 5.05998 2.66665 7.99998 2.66665C10.94 2.66665 13.3333 5.05998 13.3333 7.99998C13.3333 10.94 10.94 13.3333 7.99998 13.3333Z"></path></g><defs><clipPath id="clip0_224_4420"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg>',1),Pa={class:"form_bottom flex"},Za={key:0,class:"form__error-message flex"},Va={class:"form__errors-list list-style"},Ea={class:"form__save-btn btn btn-reset flex"},Oa={key:0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ha=(0,n._)("g",{"clip-path":"url(#clip0_224_6260)"},[(0,n._)("path",{d:"M3.00008 8.03996C3.00008 10.8234 5.2566 13.08 8.04008 13.08C10.8236 13.08 13.0801 10.8234 13.0801 8.03996C13.0801 5.25648 10.8236 2.99996 8.04008 2.99996C7.38922 2.99996 6.7672 3.1233 6.196 3.348",stroke:"#B89EFF","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round"})],-1),Ua=(0,n._)("defs",null,[(0,n._)("clipPath",{id:"clip0_224_6260"},[(0,n._)("rect",{width:"16",height:"16",fill:"white"})])],-1),Ta=[Ha,Ua];function za(t,e,a,o,r,s){return(0,n.wg)(),(0,n.iD)("section",sa,[(0,n._)("div",{class:"changing__blackout window__blackout flex",onClick:e[7]||(e[7]=(...t)=>s.onOutsideClick&&s.onOutsideClick(...t))},[(0,n._)("div",ia,[(0,n._)("div",ca,[(0,n._)("div",da,[_a,(0,n._)("p",ha,"ID: "+(0,y.zw)(r.clientId),1)]),(0,n._)("button",{class:"changing__close-btn window__close-btn btn-reset",onClick:e[0]||(e[0]=t=>s.doClose())},ma)]),(0,n._)("form",{action:"",onSubmit:e[6]||(e[6]=(0,l.iM)((t=>s.doChagingClient()),["prevent"])),class:"creating__form window__form form flex"},[(0,n._)("div",pa,[(0,n._)("label",ga,[r.surname?((0,n.wg)(),(0,n.iD)("p",Ca," Фамилия* ")):((0,n.wg)(),(0,n.iD)("p",wa)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.surname=t),type:"text",class:"text-black-main form__input form__input-surname",placeholder:"Фамилия*"},null,512),[[l.nr,r.surname]])]),(0,n._)("label",fa,[r.name?((0,n.wg)(),(0,n.iD)("p",va," Имя* ")):((0,n.wg)(),(0,n.iD)("p",ba)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.name=t),type:"text",class:"text-black-main form__input form__input-name",placeholder:"Имя*"},null,512),[[l.nr,r.name]])]),(0,n._)("label",ka,[r.lastName?((0,n.wg)(),(0,n.iD)("p",ya," Отчество ")):((0,n.wg)(),(0,n.iD)("p",xa)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.lastName=t),type:"text",class:"text-black-main form__input form__input-lastName",placeholder:"Отчество"},null,512),[[l.nr,r.lastName]])])]),(0,n._)("div",La,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.contactsArr,(t=>((0,n.wg)(),(0,n.iD)("label",{key:t.id,id:"label-"+t.id,for:"contact",class:"form__contact-label flex input-group"},[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>t.type=e,name:"select-contact",class:"form__select-contact"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.contactTypes,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.value,name:"select-contact-"+t.id,key:t.id},(0,y.zw)(t.value),9,Aa)))),128))],8,Ba),[[l.bM,t.type]]),(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e=>t.value=e,name:"contact",class:"form__input-contact",placeholder:"Введите данные контакта",required:""},null,8,Sa),[[l.nr,t.value]]),(0,n._)("button",{onClick:(0,l.iM)((e=>s.contactFormRemove(t.id-1)),["prevent"]),class:"form__contact-remove-btn btn-reset"},Fa,8,Ia)],8,Da)))),128)),r.contactsArr.length<10?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:e[4]||(e[4]=(0,l.iM)(((...t)=>s.contactFormAdd&&s.contactFormAdd(...t)),["prevent"])),class:"form__add-contact btn-reset text-black-main"},[Na,(0,n.Uk)(" Добавить контакт ")])):(0,n.kq)("",!0)]),(0,n._)("div",Pa,[t.error?((0,n.wg)(),(0,n.iD)("p",Za,[(0,n._)("ul",Va,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.errors,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"form__errors-item",key:t},(0,y.zw)(t.message),1)))),128))])])):(0,n.kq)("",!0),(0,n._)("button",Ea,[t.loading?((0,n.wg)(),(0,n.iD)("svg",Oa,Ta)):(0,n.kq)("",!0),(0,n.Uk)(" Сохранить")]),(0,n._)("button",{onClick:e[5]||(e[5]=(0,l.iM)(((...t)=>s.doRmove&&s.doRmove(...t)),["prevent"])),class:"form__delete-client-btn btn-reset"},"Удалить клиента")])],32)],512)])])}var Ra={data(){return{clientData:[],clientId:"",createdAt:"",updatedAt:"",name:"",surname:"",lastName:"",contactTypes:nt,contactsArr:[],contactsId:0}},props:{open:{type:Boolean},openRemove:{type:Boolean},id:{type:String},currentClient:{type:Object}},methods:{...(0,k.OI)(["updateCurrentId","updateProcessChanging","updateProcessError"]),...(0,k.nv)(["changeClients"]),async doChagingClient(){await this.changeClients({id:this.id,name:this.name,surname:this.surname,lastName:this.lastName,contacts:this.contactsArr}),console.log(this.contactsArr),this.error||(console.log("Ошибки нет, нужно закрыть"),this.doClose())},loadClient(){this.clientId=this.currentClient.id,this.name=this.currentClient.name,this.surname=this.currentClient.surname,this.lastName=this.currentClient.lastName,this.contactsArr=this.addId(this.currentClient.contacts)},CreateId(t){let e=0;for(const a of t)a.id>=e&&(e=a.id);return e+1},addId(t){let e=0;return t.forEach((t=>{t.id=e,e+=1})),t},contactFormAdd(){this.contactsId=this.CreateId(this.contactsArr),this.contactsArr.push({id:this.CreateId(this.contactsArr),type:"Телефон",value:""})},contactFormRemove(t){this.contactsArr.splice(t,1),this.contactsArr.forEach((e=>{e.id>=t?e.id-=1:e.id}))},doClose(){this.updateProcessError(!1),this.$emit("update:open",!1),this.name="",this.surname="",this.lastName="",this.contactsArr=[]},onOutsideClick(t){t.target!==this.$refs.content&&t.target.contains(this.$refs.content)&&this.doClose()},doRmove(){this.doClose(),this.$emit("update:openRemove",!0)}},computed:{...(0,k.Se)({loading:"loadingProcess",error:"loadingError",errors:"errors"})},created(){this.updateProcessError(!1),this.updateCurrentId(this.id),this.loadClient(),this.contactsArr=this.addId(this.contactsArr),console.log(this.contactsArr)},watch:{},components:{}};const qa=(0,rt.Z)(Ra,[["render",za]]);var ja=qa;const Wa={class:"delete-client window"},Ya={ref:"content",class:"delete-client__block window__block flex"},Ka={class:"delete-client__top window__top flex"},$a=(0,n._)("div",{class:"delete-client__top-text window__top-text flex"},[(0,n._)("div",{class:"delete-client__top-text-center-block flex"},[(0,n._)("h2",{class:"delete-client__title window__title text-black-main"}," Удалить клиента "),(0,n._)("p",{class:"delete-client__text window__text text-black-main"}," Вы действительно хотите удалить данного клиента? ")])],-1),Ga=(0,n._)("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.2332 7.73333L21.2665\r\n                                 6.76666L14.4998 13.5334L7.73318 6.7667L6.76652 7.73336L13.5332 14.5L6.76654 21.2667L7.73321 22.2333L14.4998 \r\n                                    15.4667L21.2665 22.2334L22.2332 21.2667L15.4665 14.5L22.2332 7.73333Z"})],-1),Ja=[Ga],Qa={class:"form_bottom flex"},Xa={key:0,class:"form__error-message flex"},tl={class:"form__errors-list list-style"},el={class:"form__save-btn btn btn-reset flex"},al={key:0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ll=(0,n._)("g",{"clip-path":"url(#clip0_224_6260)"},[(0,n._)("path",{d:"M3.00008 8.03996C3.00008 10.8234 5.2566 13.08 8.04008 13.08C10.8236 13.08 13.0801 10.8234 13.0801 8.03996C13.0801 5.25648 10.8236 2.99996 8.04008 2.99996C7.38922 2.99996 6.7672 3.1233 6.196 3.348",stroke:"#B89EFF","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round"})],-1),nl=(0,n._)("defs",null,[(0,n._)("clipPath",{id:"clip0_224_6260"},[(0,n._)("rect",{width:"16",height:"16",fill:"white"})])],-1),ol=[ll,nl];function rl(t,e,a,o,r,s){return(0,n.wg)(),(0,n.iD)("section",Wa,[(0,n._)("div",{class:"delete-client__blackout window__blackout flex",onClick:e[3]||(e[3]=(...t)=>s.onOutsideClick&&s.onOutsideClick(...t))},[(0,n._)("div",Ya,[(0,n._)("div",Ka,[$a,(0,n._)("button",{class:"delete-client__close-btn window__close-btn btn-reset",onClick:e[0]||(e[0]=t=>s.doClose())},Ja)]),(0,n._)("form",{action:"",onSubmit:e[2]||(e[2]=(0,l.iM)((t=>s.removeClient()),["prevent"])),class:"delete-client__form window__form form flex"},[(0,n._)("div",Qa,[t.loadingError?((0,n.wg)(),(0,n.iD)("p",Xa,[(0,n._)("ul",tl,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.errors,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"form__errors-item",key:t},(0,y.zw)(t.message),1)))),128))])])):(0,n.kq)("",!0),(0,n._)("button",el,[t.loadingProcess?((0,n.wg)(),(0,n.iD)("svg",al,ol)):(0,n.kq)("",!0),(0,n.Uk)(" Удалить")]),(0,n._)("button",{class:"form__delete-client-btn btn-reset",onClick:e[1]||(e[1]=(0,l.iM)((t=>s.doClose()),["prevent"]))},"Отмена")])],32)],512)])])}var sl={data(){return{removingData:!1,removingDataError:!1,errorsArr:[]}},props:{id:{type:String},open:{type:Boolean}},computed:{...(0,k.Se)(["loadingProcess","loadingError","errors"])},methods:{...(0,k.OI)(["updateClients"]),...(0,k.nv)(["removeClients"]),doClose(){this.$emit("update:open",!1)},onOutsideClick(t){t.target!==this.$refs.content&&t.target.contains(this.$refs.content)&&this.doClose()},removeClient(){this.removeClients(this.id),this.loadingError||this.doClose}}};const il=(0,rt.Z)(sl,[["render",rl]]);var cl=il,dl={props:["client"],data(){return{changeBtnIsClicked:!1,removeBtnIsClicked:!1}},methods:{...(0,k.nv)(["loadCurrentClient"]),formatedDate(t){let e=new Date(t),a=[1==String(e.getDate()).length?"0"+String(e.getDate()):String(e.getDate()),1==String(e.getMonth()).length?"0"+String(e.getMonth()):String(e.getMonth()),e.getFullYear()];return a.join(".")},formatedTime(t){let e=new Date(t),a=[1==String(e.getHours()).length?"0"+String(e.getHours()):String(e.getHours()),1==String(e.getMinutes()).length?"0"+String(e.getMinutes()):String(e.getMinutes())];return a.join(":")},clickChangeBtn(){console.log("Кнопака и нажата"),this.changeBtnIsClicked=!0},clickRemoveBtn(){return console.log("Кнопака у нажата"),this.removeBtnIsClicked=!0},async doLoadCurrentClient(t){await this.loadCurrentClient(t),this.clickChangeBtn()}},components:{clientsContactsList:ra,clientsChangeWindow:ja,clientsRemoveWindow:cl,Teleport:n.lR},computed:{...(0,k.Se)(["loadingProcess","loadingError","errors","getCurrentId","currentClient"]),fullName(){let t=[this.client.lastName,this.client.name,this.client.surname];return t.join(" ")},crateDate(){return this.formatedDate(this.client.createdAt)},crateTime(){return this.formatedTime(this.client.createdAt)},updatedDate(){return this.formatedDate(this.client.updatedAt)},updatedTime(){return this.formatedTime(this.client.updatedAt)}}};const _l=(0,rt.Z)(dl,[["render",Ae]]);var hl=_l,ul={data(){return{sortedData:[]}},computed:{...(0,k.Se)(["allClients","getFilteredClients","getSortedById","getSortedByFullName","getSortedByAddDate","getSortedByChaneDate","getOrderId","getOrderFullName","getOrderAddDate","getOrderChaneDate"])},methods:{getSortingData(){this.getSortedById?this.getOrderId?this.sortedData=this.getFilteredClients.sort(((t,e)=>t.id>e.id?1:-1)):this.sortedData=this.getFilteredClients.sort(((t,e)=>t.id>e.id?-1:1)):this.getSortedByFullName?this.getOrderFullName?this.sortedData=this.getFilteredClients.sort(((t,e)=>t.fullName>e.fullName?1:-1)):this.sortedData=this.getFilteredClients.sort(((t,e)=>t.fullName>e.fullName?-1:1)):this.getSortedByAddDate?this.getOrderAddDate?this.sortedData=this.getFilteredClients.sort(((t,e)=>t.createdAt>e.createdAt?1:-1)):this.sortedData=this.getFilteredClients.sort(((t,e)=>t.createdAt>e.createdAt?-1:1)):this.getSortedByChaneDate&&(this.getOrderChaneDate?this.sortedData=this.getFilteredClients.sort(((t,e)=>t.updatedAt>e.updatedAt?1:-1)):this.sortedData=this.getFilteredClients.sort(((t,e)=>t.updatedAt>e.updatedAt?-1:1)))}},props:["loadingData","loadingDataError"],created(){this.getSortingData()},watch:{getFilteredClients(){this.getSortingData()},getSortedById(){this.getSortingData()},getSortedByFullName(){this.getSortingData()},etSortedByAddDate(){this.getSortingData()},getSortedByChaneDate(){this.getSortingData()},getOrderId(){this.getSortingData()},getOrderFullName(){this.getSortingData()},getOrderAddDate(){this.getSortingData()},getOrderChaneDate(){this.getSortingData()}},components:{clientsTableItem:hl,clientsTableHeader:ee}};const ml=(0,rt.Z)(ul,[["render",dt]]);var pl=ml;const gl={class:"header"},Cl={class:"hedear__container"},wl={class:"container flex"},fl=(0,n._)("a",{href:"#",class:"header__link"},[(0,n._)("div",{class:"header__link-logo flex"}," skb. ")],-1),vl={class:"header__nav flex nav"};function bl(t,e,a,o,r,s){return(0,n.wg)(),(0,n.iD)("header",gl,[(0,n._)("div",Cl,[(0,n._)("div",wl,[fl,(0,n._)("nav",vl,[(0,n.wy)((0,n._)("input",{type:"search","onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),placeholder:"Введите запрос",class:"nav__search"},null,512),[[l.nr,r.value]])])])])])}var kl={data(){return{value:this.searchValue}},methods:{...(0,k.OI)(["updateFilteredClients","updateSearchValue"]),loadValue(){clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((()=>{this.updateFilteredClients(this.value),this.updateSearchValue(this.value)}),300)}},computed:{...(0,k.Se)(["loadingProcess"])},watch:{value(){this.loadValue()}}};const yl=(0,rt.Z)(kl,[["render",bl]]);var xl=yl,Ll={data(){return{addButtonActive:!1}},methods:{openCreateWindow(){console.log("произошло нажатие на кнопку добавления клиента"),this.addButtonActive=!0}},computed:{...(0,k.nv)(["loadClients"]),...(0,k.Se)(["loadingProcess","loadingError","errors"])},created(){this.loadClients},components:{clientsTable:pl,clientsAddWindow:it,cliensHeader:xl}};const Dl=(0,rt.Z)(Ll,[["render",b]]);var Bl=Dl,Al=a(5939),Sl="http://localhost:3000",Il=(0,k.MT)({state:{clientsData:[],currentClientData:[],filteredClients:[],sortedById:!0,sortedByFullName:!1,sortedByAddDate:!1,sortedByChaneDate:!1,orderId:!1,orderFullName:!1,orderAddDate:!1,orderChaneDate:!1,loadingProcess:!1,loadingError:!1,errorsArr:[],searchValue:"",currentId:""},getters:{getCurrentId(t){return t.currentId},allClients(t){return t.clientsData},getFilteredClients(t){return t.filteredClients},currentClient(t){return t.currentClientData},loadingProcess(t){return t.loadingProcess},loadingError(t){return t.loadingError},errors(t){return t.errorsArr},getSortedById(t){return t.sortedById},getSortedByFullName(t){return t.sortedByFullName},getSortedByAddDate(t){return t.sortedByAddDate},getSortedByChaneDate(t){return t.sortedByChaneDate},getOrderId(t){return t.orderId},getOrderFullName(t){return t.orderFullName},getOrderAddDate(t){return t.orderAddDate},getOrderChaneDate(t){return t.orderChaneDate}},modules:{},actions:{loadClients(t){return t.commit("updateProcessChanging",!0),t.commit("updateProcessError",!1),Al.Z.get(Sl+"/api/clients").then((e=>{console.log("Loading Data"),t.commit("updateClients",e.data)})).catch((e=>{t.commit("updateProcessError",!0),console.log(e),t.commit("updateError",e.message)})).then(t.commit("updateProcessChanging",!1))},loadCurrentClient(t,e){return t.commit("updateProcessChanging",!0),t.commit("updateProcessError",!1),Al.Z.get(Sl+"/api/clients/"+e).then((e=>{console.log(e.data),t.commit("updateCurrentClient",e.data)})).catch((e=>{t.commit("updateProcessError",!0),t.commit("updateError",e)})).then(t.commit("updateProcessChanging",!1))},addClients(t,{name:e,surname:a,lastName:l,contacts:n}){return t.commit("updateProcessChanging",!0),t.commit("updateProcessError",!1),Al.Z.post(Sl+"/api/clients/",{name:e,surname:a,lastName:l,contacts:n}).then((()=>{this.dispatch("loadClients")})).catch((e=>{t.commit("updateProcessError",!0),t.commit("updateError",e.response.data.errors)})).then(t.commit("updateProcessChanging",!1))},changeClients(t,{id:e,name:a,surname:l,lastName:n,contacts:o}){return t.commit("updateProcessChanging",!0),t.commit("updateProcessError",!1),Al.Z.patch(Sl+"/api/clients/"+e,{name:a,surname:l,lastName:n,contacts:o}).then((()=>{this.dispatch("loadClients")})).catch((e=>{t.commit("updateProcessError",!0),t.commit("updateError",e.response.data.errors)})).then(t.commit("updateProcessChanging",!1))},removeClients(t,e){t.commit("updateProcessChanging",!0),t.commit("updateProcessError",!1),setTimeout((()=>Al.Z["delete"](Sl+"/api/clients/"+e).then((()=>{this.dispatch("loadClients")})).catch((e=>{t.commit("updateProcessError",!0),t.commit("updateError",e.response.data.errors)})).then(t.commit("updateProcessChanging",!1))),30)}},mutations:{updateClients(t,e){e.forEach((t=>{t.fullName=t.name+" "+t.surname+" "+t.lastName})),t.clientsData=e,""==t.searchValue?t.filteredClients=e:this.commit("updateFilteredClientsInLoading",e),console.log("mutation: ",t.clientsData),console.log("mutation filtered: ",t.filteredClients)},updateCurrentClient(t,e){console.log("mutation CC: ",e),t.currentClientData=e},updateProcessChanging(t,e){console.log("mutation changing: ",e),t.loadingProcess=e},updateProcessError(t,e){console.log("mutation changingError: ",e),t.loadingError=e},updateError(t,e){console.log("mutation Err: ",e),t.errorsArr=e},updateSearchValue(t,e){console.log("Search value: ",e),t.searchValue=e},updateFilteredClients(t,e){let a=e.toUpperCase();console.log("Search value: ",e),t.filteredClients=t.clientsData.filter((t=>t.fullName.toUpperCase().includes(a))),console.log("filtered data: ",t.filteredClients)},updateFilteredClientsInLoading(t,e){let a=t.searchValue.toUpperCase();console.log("Search value: ",t.searchValue),t.filteredClients=e.filter((t=>t.fullName.toUpperCase().includes(a))),console.log("filtered data: ",t.filteredClients)},updateSortedById(t){t.sortedById=!0,t.sortedByFullName=!1,t.sortedByAddDate=!1,t.sortedByChaneDate=!1,t.orderId=!t.orderId},updateSortedByFullName(t){t.sortedById=!1,t.sortedByFullName=!0,t.sortedByAddDate=!1,t.sortedByChaneDate=!1,t.orderFullName=!t.orderFullName},updateSortedByAddDate(t){t.sortedById=!1,t.sortedByFullName=!1,t.sortedByAddDate=!0,t.sortedByChaneDate=!1,t.orderAddDate=!t.orderAddDate},updateSortedByChaneDate(t){t.sortedById=!1,t.sortedByFullName=!1,t.sortedByAddDate=!1,t.sortedByChaneDate=!0,t.orderChaneDate=!t.orderChaneDate},updateCurrentId(t,e){t.currentId=e}}});const Ml=(0,l.ri)({render:()=>(0,n.h)(Bl)});Ml.use(Il),Ml.mount("#app")}},e={};function a(l){var n=e[l];if(void 0!==n)return n.exports;var o=e[l]={exports:{}};return t[l](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,l,n,o){if(!l){var r=1/0;for(d=0;d<t.length;d++){l=t[d][0],n=t[d][1],o=t[d][2];for(var s=!0,i=0;i<l.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every((function(t){return a.O[t](l[i])}))?l.splice(i--,1):(s=!1,o<r&&(r=o));if(s){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[l,n,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var l in e)a.o(e,l)&&!a.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,l){var n,o,r=l[0],s=l[1],i=l[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(i)var d=i(a)}for(e&&e(l);c<r.length;c++)o=r[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(d)},l=self["webpackChunkcrm"]=self["webpackChunkcrm"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(5562)}));l=a.O(l)})();
//# sourceMappingURL=app.cf7fe28b.js.map